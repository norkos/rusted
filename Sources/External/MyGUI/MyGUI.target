TARGET:=MyGUI
TYPE:=custom

PACKAGE_NAME=$(TARGET_BASE)/MyGUI_3.2.0_patched.tar.gz
MYGUI_DIR:=$(BUILD)/MyGUI
MYGUI_SRC:=$(TARGET_BASE)/MyGUI_3.2.0

.PHONY: MyGUI
MyGUI: $(BUILD)/libMyGUIEngine.so

$(BUILD)/libMyGUIEngine.so: $(MYGUI_DIR)/lib/libMyGUIEngine.so
	cp -v $(MYGUI_DIR)/lib/* $(BUILD)

$(MYGUI_DIR)/lib/libMyGUIEngine.so: OGRE
	mkdir -p $(MYGUI_DIR)
	cd $(MYGUI_DIR) && \
		cmake $(MYGUI_SRC) -DMYGUI_RENDERSYSTEM=2 -DOGRE_SOURCE=$(OGRE_DIR) -DOGRE_BUILD=$(OGRE_DIR) && \
		make -j1 MyGUIEngine MyGUI.OgrePlatform

