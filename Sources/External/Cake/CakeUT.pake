append $sources Serialization/UnitTests/TmsTest.cpp
append $sources Serialization/UnitTests/FcTest.cpp
append $sources Networking/UnitTests/ServerSocketPoolTest.cpp
append $sources Networking/Protocol/UnitTests/ProtocolTest.cpp
append $sources Utils/UnitTests/StringListTest.cpp
append $sources mainUT.cpp

append $libraries Cake
append $libraries gtest
append $libraries pthread

append $include_dirs ../
append $include_dirs $boost.__path
append $include_dirs $gtest.__path

target application CakeUT sources($sources) link_with($libraries) include_dirs($include_dirs) compiler_flags($global_settings.compiler_flags) depends_on(Cake gtest SampleProtocolHeader)

set $protoc "Networking/Protocol/protoc.py"
set $protoc_command "${protoc} --output Networking/Protocol/UnitTests/SampleProtocol.hpp Networking/Protocol/UnitTests/SampleProtocol.xml --namespace Cake::Networking::Protocol"

target phony SampleProtocolHeader run_before($protoc_command)

